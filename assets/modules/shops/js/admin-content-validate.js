var tags = document.getElementById("Tags").value;res = tags.split(",");jQuery(".tm-input").tagsManager({    prefilled: res,    CapitalizeFirstLetter: true,    AjaxPush: null,    AjaxPushAllTags: null,    AjaxPushParameters: null,    delimiters: [9, 13, 44],    backspace: [8],    blinkBGColor_1: '#FFFF9C',    blinkBGColor_2: '#CDE69C',    hiddenTagListName: 'hidden-tags',    hiddenTagListId: null,    deleteTagsOnBackspace: true, //false: không cho xóa tag    tagsContainer: null,    tagCloseIcon: '×',    tagClass: '',    validator: null,    onlyTagList: false});$(document).ready(function () {    $('.mask-price').mask('000.000.000', {reverse: true});    $("#f-content").validate({        rules: {            title: {                required: true            },            alias: {                required: true            }        },        messages: {            title: {                required: 'Nhập tên sản phẩm'            },            alias: {                required: 'Nhập liên kết tĩnh'            }        },        submitHandler: function (form) {            form.submit();        },        highlight: function (element) {            $(element).closest('.form-group').addClass('has-error');        },        unhighlight: function (element) {            $(element).closest('.form-group').removeClass('has-error');        },        errorElement: 'span',        errorClass: 'help-block',        errorPlacement: function (error, element) {            if (element.parent('.input-group').length) {                error.insertAfter(element.parent());            } else {                error.insertAfter(element);            }        }    });    $("#title").on('keyup blur', function () {        var title = $(this).val();        $("#alias").val(get_slug(title));        return false;    });});$(document).on('change', '#files', function() {	var files = $('#files')[0].files;	var error = '';	var form_data = new FormData();	for (var count = 0; count < files.length; count++) {		var name = files[count].name;		var extension = name.split('.').pop().toLowerCase();		if (jQuery.inArray(extension, ['gif', 'png', 'jpg', 'jpeg']) == -1) {			//error += "Invalid " + count + " Image File"			error += name + " sai định dạng gif,png,jpg,jpeg!"		} else {			form_data.append("files[]", files[count]);			var order = $('#remove-image .order').size();			form_data.append("order", order);			var id = 0;			if ($('#id').length) {				id = $('#id').val();			}			form_data.append("product", id);		}	}	if (error == '') {		$('#files').attr('disabled', 'disabled');		$.ajax({			url: base_url + 'admin/shops/upload-ajax',			type: "POST",			data: form_data,			contentType: false,			cache: false,			processData: false,			dataType: 'json',			beforeSend: function() {				$('.progress-bar-upload').removeClass('hide');				$('.progress').show();				$('.myprogress').css('width', '0');				$('.upload_msg').text('');			},			xhr: function () {				var xhr = new window.XMLHttpRequest();				xhr.upload.addEventListener("progress", function (evt) {					if (evt.lengthComputable) {						var percentComplete = evt.loaded / evt.total;						percentComplete = parseInt(percentComplete * 100);						$('.myprogress').text(percentComplete + '%');						$('.myprogress').css('width', percentComplete + '%');					}				}, false);				return xhr;			},			success: function(response){				console.log(response);				$('#files').removeAttr('disabled');				$('#files').val('');				if (response.status === 'success') {					if(response.content.hasOwnProperty('error')){						$('.progress').hide();						$('.myprogress').css('width', '0');						$('.upload_msg').text(response.content.error);					}else{						$('.progress-bar-upload').addClass('hide');					}					if(response.content.hasOwnProperty('success')){						$(response.content.success).appendTo("#remove-image");						$('input[type="radio"].flat-blue').iCheck({							checkboxClass: 'icheckbox_flat-blue',							radioClass: 'iradio_flat-blue'						});					}				}			},			error: function(e) {				console.log('Error processing your request: ' + e.responseText);			}		});	} else {		alert(error);		$('#files').val('');	}});$(document).on('blur', '.option-alt, .option-order', function(){	var $this = $(this).closest('.container-element');	var option_id = $this.find('.option-id').val();	var option_alt = $this.find('.option-alt').val();	var option_order = $this.find('.option-order').val();	var strURL = base_url + 'admin/shops/other/update-ajax';    var data = {        'id': option_id,        'order': option_order,        'alt': option_alt    };    $.ajax({        url: strURL,        type: 'POST',        async: false,        data: data,        success: function(response) {			console.log(response);        },		error: function(e) {			console.log('Error processing your request: ' + e.responseText);		}    });    return false;});$(document).on('click', '.option-delete', function(){	if ($('#id').length) {		var r = confirm("Bạn có muốn xóa ảnh này, sau khi xóa không thể phục hồi dữ liệu?");		if (r == false) {			return false;		}	}	var $this = $(this).closest('.container-element');		var option_id = $this.find('.option-id').val();	$this.remove();	var strURL = base_url + 'admin/shops/other/delete-ajax';    var data = {        'id': option_id    };    $.ajax({        url: strURL,        type: 'POST',        async: false,        data: data,        success: function(response) {			console.log(response);        },		error: function(e) {			console.log('Error processing your request: ' + e.responseText);		}    });    return false;});